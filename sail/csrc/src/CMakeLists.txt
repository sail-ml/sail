cmake_minimum_required(VERSION 2.8)
project(sail_c LANGUAGES CUDA CXX)
find_package(CUDA REQUIRED)
# add_subdirectory(cuda)
include_directories("../libs/pybind11")
include_directories("../libs/cuda")

# CUDA_COMPILE(cuda_math cuda_math.cu)
# list( APPEND CUDA_NVCC_FLAGS "-gencode arch=compute_30,code=sm_30; -std=c++11")
file(GLOB_RECURSE headers CONFIGURE_DEPENDS "*.h")
file(GLOB_RECURSE files CONFIGURE_DEPENDS "*.cpp")
cuda_add_library(src STATIC  ${headers} ${files} "cuda/cuda_math.h" "cuda/cuda_math.cu")
target_link_libraries(src PRIVATE pybind11::module pybind11::lto pybind11::windows_extras)
# set_property(TARGET src PROPERTY CUDA_ARCHITECTURES 35 50 72)
# target_link_libraries(src "../libs/cuda")
# target_link_libraries(src cuda_math)
# target_include_directories(main PUBLIC ../libs/x)
# target_compile_features(src PUBLIC cxx_std_11)

